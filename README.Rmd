---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# BIOSTAT625ttest

<!-- badges: start -->
[![R-CMD-check](https://github.com/ashkembi/BIOSTAT625ttest/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/ashkembi/BIOSTAT625ttest/actions/workflows/R-CMD-check.yaml)
[![Codecov test coverage](https://codecov.io/gh/ashkembi/BIOSTAT625ttest/branch/master/graph/badge.svg)](https://app.codecov.io/gh/ashkembi/BIOSTAT625ttest?branch=master)
<!-- badges: end -->

The goal of BIOSTAT625ttest is to mimick a one-sample t-test similar to `stats::t.test()` using the function `test_t()`.

## Installation

You can install the development version of BIOSTAT625ttest from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("ashkembi/BIOSTAT625ttest")
```

## When to use this package

```{r example}
library(BIOSTAT625ttest)
## basic example code
```

This package contains a function `test_t()` that allows users to run a one-sample, Student's t-test on a vector of data.

The purpose of a one-sample t-test is to examine how similar a sample of data is to a null hypothesis (often the population mean).

Let $x$ be a sample of data of size $N$, where $x_i$ is the $i$-th sample. If $\overline{X}$ is the sample mean, $S$ is the sample standard deviation, and $\mu$ is the true population mean, then the t-statistic, $T$ can be calculated as follows:

\[T = \frac{\overline{X} - \mu}{\frac{S}{\sqrt{N}}}\]

$$
\begin{cases}
  H_0 = \mu \text{ and } H_a \neq \mu ,& \text{if two-tailed}\\
  H_0 \leq \mu \text{ and } H_a > \mu ,& \text{if right-tailed}\\
  H_0 \geq \mu \text{ and } H_a < \mu ,& \text{if left-tailed}
\end{cases}
$$

## Example scenario

You have taken 100 samples of noise measurements during a worker's shift. The US government has set a regulation that noise samples cannot be above 90 A-weighted decibels (dBA) over an 8 hour period. You want to examine whether the samples are significantly less than the regulatory level of 90 dBA.

First, we simulate the 100 noise samples.

```{r examples}
set.seed(123); x <- round(rnorm(100, mean = 85, sd = 10), 1)
head(x)
```

#### Left-tailed t-test

In the first case, we will perform a left-tailed t-test, where $H_0 \geq  90 \text{ dBA}$ and $H_a < 90 \text{ dBA}$ at the significance level of $\alpha = 0.05$.

```{r left-tailed}
# input x
# set the null hypothesis to 90 (h0 = 90)
# set the alternative hypothesis as left-tailed (default; alternative = "less")
# set the significance level to 0.05 (conf.level = 0.95)
test_t(x, h0 = 90, alternative = "less", conf.level = 0.95)
```

At the significance level of $\alpha = 0.05$, we can reject the null hypothesis that the sample mean of the 100 noise samples are greater than or equal to 90 dBA.

#### Right-tailed t-test

In the second case, we will perform a left-tailed t-test, where $H_0 \leq  90 \text{ dBA}$ and $H_a > 90 \text{ dBA}$ at the significance level of $\alpha = 0.05$.

```{r right-tailed}
# input x
# set the null hypothesis to 90 (h0 = 90)
# set the alternative hypothesis as right-tailed (default; alternative = "greater")
# set the significance level to 0.05 (conf.level = 0.95)
test_t(x, h0 = 90, alternative = "greater", conf.level = 0.95)
```

At the significance level of $\alpha = 0.05$, we fail to reject the null hypothesis that the sample mean of the 100 noise samples are less than or equal to 90 dBA.

#### Two-tailed t-test

In the last case, we will perform a two-tailed, one-sample t-test, where $H_0 = 90 \text{ dBA}$ and $H_a \neq 90 \text{ dBA}$ at the significance level of $\alpha = 0.05$.

```{r two-tailed}
# input x
# set the null hypothesis to 90 (h0 = 90)
# set the alternative hypothesis as two-tailed (default; alternative = "two.sided")
# set the significance level to 0.05 (conf.level = 0.95)
two.sided.t <- test_t(x, h0 = 90, alternative = "two.sided", conf.level = 0.95)
two.sided.t
```

At the significance level of $\alpha = 0.05$, we can reject the null hypothesis that the sample mean of the 100 noise samples are not equal to 90 dBA.

We can also extract the values generated by performing the t-test.

```{r}
# t-statistic
two.sided.t$statistic

# degrees of freedom
two.sided.t$parameter

# p-value
two.sided.t$p.value

# confidence interval (in this case, 95%)
two.sided.t$conf.int

# sample mean
two.sided.t$estimate

# null hypothesis
two.sided.t$null.value

# sample standard error
two.sided.t$stderr

# alternative hypothesis
two.sided.t$alternative

# prints the t-test method
two.sided.t$method

# inputted data name
two.sided.t$data.name
```



